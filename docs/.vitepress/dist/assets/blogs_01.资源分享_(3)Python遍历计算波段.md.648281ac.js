import{_ as s,o as n,c as a,a as l}from"./app.56c11ab5.js";const i=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"blogs/01.资源分享/(3)Python遍历计算波段.md"}'),p={name:"blogs/01.资源分享/(3)Python遍历计算波段.md"},o=l(`<div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#676E95;">@author:Nan J</span></span>
<span class="line"><span style="color:#676E95;">@date  :2022/12/8:10:11</span></span>
<span class="line"><span style="color:#676E95;">@IDE   :Spyder</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> os</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> os</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">path</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> osgeo </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> gdal</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> sys</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> osgeo </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> gdalconst</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> osgeo </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> gdal</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> osgeo </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> osr</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> numpy </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> np</span></span>
<span class="line"><span style="color:#676E95;"># coding=utf-8</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> tqdm </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> tqdm</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WriteGTiffFile</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">nRows</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">nCols</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">geotrans</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">proj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">noDataValue</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">gdalType</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">nandID</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 向磁盘写入结果文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">format</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">GTiff</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    driver </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> gdal</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetDriverByName</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ds </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Create</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> nCols</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> nRows</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> gdalType</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ds</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">SetGeoTransform</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">geotrans</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ds</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">SetProjection</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">proj</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ds</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetRasterBand</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">nandID</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">SetNoDataValue</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">noDataValue</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ds</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetRasterBand</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">nandID</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">WriteArray</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ds </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">None</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">File</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">bandID</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 遍历文件，读取数据，算出均值</span></span>
<span class="line"><span style="color:#A6ACCD;">    rows</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cols</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> geotransform</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> projection</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> noDataValue </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Readxy</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">C://126//20211.tif</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 获取源文件的行，列，投影等信息，注意需要保持所有的源文件这些信息都是一致的</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rows and cols is </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> rows</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> cols</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">#rows, cols = 200, 200</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">#filesum = [[0.0] * cols] * rows  # 栅格值和，二维数组</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">#average = [[0.0] * cols] * rows  # 存放平均值，二维数组,循环定义太慢</span></span>
<span class="line"><span style="color:#A6ACCD;">    filesum </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> np</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">zeros</span><span style="color:#89DDFF;">((</span><span style="color:#82AAFF;">rows</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> cols</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">dtype</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">np</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">float32</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 转换类型为np.array</span></span>
<span class="line"><span style="color:#A6ACCD;">    average </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> np</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">zeros</span><span style="color:#89DDFF;">((</span><span style="color:#82AAFF;">rows</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> cols</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">dtype</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">np</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">float32</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">the type of filesum</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filesum</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    count </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">    rootdir </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">C://126</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> dirpath</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> filename</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> filenames </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">walk</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">rootdir</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 遍历源文件</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> filename </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> filenames</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> os</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">splitext</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">)[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.tif</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 判断是否为tif格式</span></span>
<span class="line"><span style="color:#A6ACCD;">                filepath </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> os</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">dirpath</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> filename</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                purename </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> filename</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.tif</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 获得除去扩展名的文件名，比如20211.tif，purename为20211</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;">#两种修改方式，均要修改RUN.write_img</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;">#1）路径里面的目录不要是rootdir</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;">#2）文件名不要是&quot;2021_band_&#39;，用2021开头，随便起一个”save_2021_band_&#39;“</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;">#逻辑是文件名的前4位是2021都要做累加</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> purename</span><span style="color:#89DDFF;">[:</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2021</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 判断年份</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#676E95;"># filedata = [[0.0] * cols] * rows  这也没有用到</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#676E95;"># filedata = np.array(filedata)</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">start to read the data of :</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> filepath</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> and the band is </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> bandID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">		</span></span>
<span class="line"><span style="color:#A6ACCD;">                    filedata </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Read</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filepath</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> bandID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 将各年的多幅图像数据存入filedata中</span></span>
<span class="line"><span style="color:#A6ACCD;">                    count </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> count </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">end to read the data of :</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> filepath</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> and the band is </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> bandID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">	</span></span>
<span class="line"><span style="color:#A6ACCD;">                    np</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filesum</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> filedata</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> filesum</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 求3幅图像相应栅格值的和</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#676E95;"># print str(count)+&#39;this is filedata&#39;,filedata</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">count is </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> count</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> rows</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> j </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> cols</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;"># print(noDataValue, count)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">filesum</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> j</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> noDataValue</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 处理图像中的noData</span></span>
<span class="line"><span style="color:#A6ACCD;">                average</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> j</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">9999</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">                average</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> j</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> filesum</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> j</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1.0</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> count  </span><span style="color:#676E95;"># 求平均</span></span>
<span class="line"><span style="color:#A6ACCD;">    RUN </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">GRID</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    RUN</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write_img</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">C://126</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">//</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">save2021_band_</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> </span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">bandID</span><span style="color:#89DDFF;">)</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.tif</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> projection</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> geotransform</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> average</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">#WriteGTiffFile(&quot;E://RemoteSensing//Image//meantest//2080_band&quot;+ str(bandID) + &quot;.tif&quot;, rows, cols, average,geotransform,projection, -9999, 10, bandID) #写入结果文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">#return average</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GRID</span><span style="color:#89DDFF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 读图像文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">read_img</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        dataset </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> gdal</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 打开文件</span></span>
<span class="line"><span style="color:#A6ACCD;">        im_width </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dataset</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">RasterXSize</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 栅格矩阵的列数</span></span>
<span class="line"><span style="color:#A6ACCD;">        im_height </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dataset</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">RasterYSize</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 栅格矩阵的行数</span></span>
<span class="line"><span style="color:#A6ACCD;">        im_geotrans </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dataset</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetGeoTransform</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 仿射矩阵</span></span>
<span class="line"><span style="color:#A6ACCD;">        im_proj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dataset</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetProjection</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 地图投影信息</span></span>
<span class="line"><span style="color:#A6ACCD;">        im_data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dataset</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ReadAsArray</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> im_width</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> im_height</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 将数据写成数组，对应栅格矩阵</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">del</span><span style="color:#A6ACCD;"> dataset  </span><span style="color:#676E95;"># 关闭对象，文件dataset</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> im_proj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> im_geotrans</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> im_data</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> im_width</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> im_height</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># 写文件，以写成tif为例</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">write_img</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">im_proj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">im_geotrans</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">im_data</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># 判断栅格数据的数据类型</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">int8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> im_data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">dtype</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            datatype </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> gdal</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">GDT_Byte</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">elif</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">int16</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> im_data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">dtype</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            datatype </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> gdal</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">GDT_UInt16</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            datatype </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> gdal</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">GDT_Float32</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># 判读数组维数</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">len</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">im_data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            im_bands</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> im_height</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> im_width </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> im_data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            im_bands</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">im_height</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> im_width</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> im_data</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># 创建文件</span></span>
<span class="line"><span style="color:#A6ACCD;">        driver </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> gdal</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetDriverByName</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">GTiff</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 数据类型必须有，因为要计算需要多大内存空间</span></span>
<span class="line"><span style="color:#A6ACCD;">        dataset </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Create</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> im_width</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> im_height</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> im_bands</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> datatype</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        dataset</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">SetGeoTransform</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">im_geotrans</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 写入仿射变换参数</span></span>
<span class="line"><span style="color:#A6ACCD;">        dataset</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">SetProjection</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">im_proj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 写入投影</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> im_bands </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            dataset</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetRasterBand</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">WriteArray</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">im_data</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 写入数组数据</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">im_bands</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">                dataset</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetRasterBand</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">WriteArray</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">im_data</span><span style="color:#89DDFF;">[</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">del</span><span style="color:#A6ACCD;"> dataset</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Readxy</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">RasterFile</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 读取每个图像的信息</span></span>
<span class="line"><span style="color:#A6ACCD;">    ds </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> gdal</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">RasterFile</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> gdal</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">GA_ReadOnly</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> ds </span><span style="color:#89DDFF;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">None:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Cannot open </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> RasterFile</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        sys</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    cols </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ds</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">RasterXSize</span></span>
<span class="line"><span style="color:#A6ACCD;">    rows </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ds</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">RasterYSize</span></span>
<span class="line"><span style="color:#A6ACCD;">    band </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ds</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetRasterBand</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">#data = band.ReadAsArray(0, 0, cols, rows)   这一个也没有用到啊</span></span>
<span class="line"><span style="color:#A6ACCD;">    noDataValue </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> band</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetNoDataValue</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    projection </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ds</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetProjection</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    geotransform </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ds</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetGeoTransform</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> rows</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cols</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> geotransform</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> projection</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> noDataValue</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Read</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">RasterFile</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">bandID</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># 读取每个图像的信息</span></span>
<span class="line"><span style="color:#A6ACCD;">    ds </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> gdal</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">RasterFile</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> gdal</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">GA_ReadOnly</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> ds </span><span style="color:#89DDFF;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">None:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Cannot open </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> RasterFile</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        sys</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    cols </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ds</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">RasterXSize</span></span>
<span class="line"><span style="color:#A6ACCD;">    rows </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ds</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">RasterYSize</span></span>
<span class="line"><span style="color:#A6ACCD;">    band </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ds</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GetRasterBand</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">bandID</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> band</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ReadAsArray</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> cols</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> rows</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> data</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ok1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tqdm</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">)):</span><span style="color:#676E95;">#20是波段数量加1，比如原始有19个波段，这里就填20.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">File</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ok2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div>`,1),e=[o];function t(D,F,c,r,y,A){return n(),a("div",null,e)}const d=s(p,[["render",t]]);export{i as __pageData,d as default};
